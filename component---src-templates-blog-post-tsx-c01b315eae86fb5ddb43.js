(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{221:function(t,e,n){"use strict";n.r(e);n(13);var i=n(0),a=n(30),o=n(79),r=n(2),s=n.n(r),c=n(236),l=n.n(c),u=(n(241),n(242)),d=n(19),p=n.n(d),h=n(38),f=n(82);var m=n(83),v=(n(243),function(t){function e(e){var n;return(n=t.call(this,e)||this).affix=!1,n.handleResize=Object(a.throttle)(function(){n.updatePin(),n.setWidth()},20),n.handleScroll=Object(a.throttle)(function(){n.updatePin()},20),n.state={position:"static",width:null,placeHoldStyle:{},active:!1},n}s()(e,t);var n=e.prototype;return n.getStyles=function(){var t=this.props,e=t.zIndex,n=t.offsetBottom,i=t.offsetTop,a=this.state,o=a.position,r=a.width;return"fixed"===o?{position:o,zIndex:e,width:r,bottom:n,top:i}:{position:o}},n.pin=function(){var t=this.props.onPin;this.affix=!0,this.setWidth(),this.setState({position:"fixed",active:!0}),t&&t()},n.unpin=function(){var t=this.props.onUnpin;this.affix=!1,this.setState({position:"static",width:null,placeHoldStyle:{overflow:"hidden"},active:!1}),t&&t()},n.setWidth=function(){var t=h.findDOMNode(this);this.setState({width:t.offsetWidth,placeHoldStyle:{width:"100%",height:t.offsetHeight}})},n.updatePin=function(){var t,e,n,i=this.affix,a=this.props,o=h.findDOMNode(this);void 0!==a.offsetBottom?(t=(n=document.documentElement,{width:Math.max(n.clientWidth,window.innerWidth||0),height:Math.max(n.clientHeight,window.innerHeight||0)}).height-o.getBoundingClientRect().bottom,e=a.offsetBottom):(t=o.getBoundingClientRect().top,e=a.offsetTop),i&&t>e&&this.unpin(),!i&&t<=e&&this.pin()},n.render=function(){var t,e=this.props,n=e.prefix,a=e.className,o=e.placeHoldClassName,r=p()(n+"-affix",((t={})[n+"-affix-active"]=this.state.active,t),a);return i.createElement("div",{className:o,style:this.state.placeHoldStyle},i.createElement("div",{className:r,style:Object.assign({},this.getStyles())},this.props.children),i.createElement(f.a,{eventName:"scroll",callback:this.handleScroll}),i.createElement(f.a,{eventName:"resize",callback:this.handleResize}))},e}(i.PureComponent)),g=Object(m.a)({offsetTop:0,prefix:"curly",zIndex:1e3},v),w=(n(244),n(245));var y=function(t,e){return function(e){e.preventDefault(),window.scrollTo({top:t+1})}},E=function(t){function e(e){var n;return(n=t.call(this,e)||this).handleScroll=Object(a.throttle)(function(){n.updateScroll(n.state.scrollHeadings)},20),n.state={currentListNo:"",scrollHeadings:[]},n}s()(e,t);var n=e.prototype;return n.render=function(){return i.createElement("div",{className:"mark-nav"},this.mapNav(this.state.scrollHeadings),i.createElement(f.a,{eventName:"scroll",callback:this.handleScroll}))},n.componentDidMount=function(){var t=this,e=this.props.headings.map(function(e){var n=t.mapHeading(e.value),i=document.querySelector("[data-id="+n+"]");if(i){var a=i.querySelector("a.anchor"),o=function(t){for(var e=t.offsetTop,n=t.offsetParent;null!==n;)e+=n.offsetTop,n=n.offsetParent;return e}(i);return a.onclick=y(o),Object.assign({},e,{top:o,active:!1,showValue:n})}return Object.assign({},e,{top:0,active:!1,showValue:n})});this.updateScroll(e)},n.updateScroll=function(t){for(var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,n=0,i=!1,a=0;a<t.length;a++)t[a].active=!1,!i&&t[a].top>=e&&(t[n].active=!0,i=!0),n=a;i||(t[n].active=!0),this.setState({scrollHeadings:t})},n.mapNav=function(t){return t.map(function(t,e){return i.createElement("a",{key:e,className:p()("head-nav-item","nav-item-"+t.depth,{active:t.active}),href:"#"+t.showValue,onClick:function(e){return y(t.top,t.showValue)(e.nativeEvent)}},t.value)})},n.mapHeading=function(t){return w().slug(t,!1)},e}(i.Component),N=Object(m.a)({ordered:!1,className:""},E),b=n(223),x=n(226),S=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).div=null,e}s()(e,t);var n=e.prototype;return n.componentDidMount=function(){this.div=document.createElement("div"),new l.a(Object.assign({id:this.props.slug},this.props.commentOptions)).render(this.div),document.getElementById("comment-container").replaceWith(this.div)},n.componentWillUnmount=function(){this.div&&this.div.remove()},n.render=function(){var t=this.props.post,e=t.html,n=t.headings,a=this.props.post.frontmatter.title;return i.createElement(x.a,null,i.createElement("div",{className:u.post},i.createElement(b.a,{title:""+a}),i.createElement("div",{className:u.postContent,dangerouslySetInnerHTML:{__html:e}}),i.createElement("div",{className:u.rightNav},i.createElement(g,null,i.createElement(N,{headings:n}))),i.createElement("div",{id:"comment-container"})))},e}(i.Component),O=n(24);n.d(e,"pageQuery",function(){return H});e.default=function(t){var e=t.data,n=e.post,r=e.dataJson,s=(t.data.recents.edges.map(function(t){var e=t.node;Object(a.get)(e,"frontmatter.image.children.0.fixed",{})}),n.fields.slug),c=r.gitment;return i.createElement(o.a,{headerType:O.a.POST_HEADER,data:Object.assign({},n.frontmatter,{image:n.frontmatter.image?n.frontmatter.image.children[0]:null})},i.createElement(S,{slug:s,commentOptions:c,post:n}))};var H="1922448956"},223:function(t,e,n){"use strict";n.d(e,"a",function(){return l});n(13);var i=n(2),a=n.n(i),o=n(224),r=n(78),s=n(0),c=n(5),l=function(t){function e(){return t.apply(this,arguments)||this}return a()(e,t),e.prototype.render=function(){var t=this,e=Object.assign({},this.props);return delete e.title,s.createElement(c.StaticQuery,{query:"2341529547",render:function(n){return s.createElement(r.Helmet,Object.assign({title:t.props.title?t.props.title+" - "+n.site.siteMetadata.title:n.site.siteMetadata.title},e))},data:o})},e}(s.Component)},224:function(t){t.exports={data:{site:{siteMetadata:{title:"zido的个人博客"}}}}},226:function(t,e,n){"use strict";n(13);var i=n(0),a=n(227),o=n(19),r=n.n(o);e.a=function(t){var e=Object.assign({},t,{className:r()(a.mainRoot,t.className)});return delete e.extra,i.createElement("div",{style:{position:"relative"}},i.createElement("main",e),t.extra)}},227:function(t,e,n){t.exports={mainRoot:"Main-module--mainRoot--2flIs"}},242:function(t,e,n){t.exports={post:"BlogPost-module--post--xDyMn",rightNav:"BlogPost-module--rightNav--2zs5z"}},243:function(t,e,n){},244:function(t,e,n){}}]);
//# sourceMappingURL=component---src-templates-blog-post-tsx-c01b315eae86fb5ddb43.js.map